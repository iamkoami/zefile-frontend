(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{4010:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(2115),n=s(5695),c=s(3770),i=s.n(c),o=s(7652);function u(){let e=(0,n.useSearchParams)(),t=(0,n.useRouter)(),s=(0,o.c)("payment"),[c,u]=(0,r.useState)(null),[l,d]=(0,r.useState)("");return((0,r.useEffect)(()=>{let s=async e=>{try{await new Promise(e=>setTimeout(e,3e3));let s=await fetch("".concat("http://localhost:3001","/payments/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:e})}),a=await s.json();a.success&&"success"===a.data.status?t.push("/payment/success?reference=".concat(e)):t.push("/payment/failed?reference=".concat(e))}catch(s){console.error("Payment verification failed:",s),t.push("/payment/failed?reference=".concat(e))}};fetch("/lotties/payment_zefile.json").then(e=>e.json()).then(e=>u(e)).catch(e=>console.error("Failed to load animation:",e));let a=e.get("reference");a?(d(a),s(a)):setTimeout(()=>{t.push("/")},2e3)},[e,t]),c)?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(i(),{animationData:c,loop:!0,autoplay:!0,style:{width:172,height:172}})}),(0,a.jsxs)("div",{className:"text-center max-w-md px-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-[#171717] mb-4",children:s("processing")}),(0,a.jsx)("p",{className:"text-[#666666] text-base leading-relaxed mb-2",children:s("pleaseWait")}),(0,a.jsx)("p",{className:"text-[#666666] text-base leading-relaxed",children:s("doNotClose")})]}),!1]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-[#87E64B] border-t-transparent rounded-full animate-spin mx-auto"})})})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7291:(e,t,s)=>{Promise.resolve().then(s.bind(s,4010))},7652:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var a=s(6683);function r(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let n=r(0,a.c3);r(0,a.kc)}},e=>{var t=t=>e(e.s=t);e.O(0,[66,683,770,441,684,358],()=>t(7291)),_N_E=e.O()}]);